var Completable=function(r){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;const e=(r,e)=>typeof r===e,o=r=>e(r,"function"),t=r=>e(r,"number"),n=r=>e(r,"object"),s=r=>n(r)&&o(r[Symbol.iterator]),i=r=>n(r)&&o(r.onSubscribe),b=r=>null!=r&&(r instanceof Promise||(n(r)||o(r))&&o(r.then));function c(){const{onComplete:r,controller:e}=this;if(!e.signal.aborted)try{r()}finally{e.abort()}}function a(r){const{onError:e,controller:o}=this;let t=r;if(r instanceof Error||(t=new Error("onError called with a non-Error value.")),!o.signal.aborted)try{e(t)}finally{o.abort()}}const u=r=>r,l=r=>{throw r},h=r=>({onSubscribe:r.onSubscribe,onComplete:o(r.onComplete)?r.onComplete:u,onError:o(r.onError)?r.onError:l}),m=e=>{const{onSubscribe:o,onComplete:t}=h(e),n=new r;o(n),n.signal.aborted||(t(),n.abort())},d=(e,o)=>{const{onSubscribe:t,onError:n}=h(e),s=new r;t(s),s.signal.aborted||(n(o),s.abort())};function f(r){let e;try{if(null==(e=this.supplier()))throw new Error("Completable.error: Error supplier returned a null value.")}catch(r){e=r}d(r,e)}var E=r=>{let e=r;r instanceof Error||"function"==typeof r||(e=new Error("Completable.error received a non-Error value.")),"function"!=typeof r&&(e=(r=>()=>r)(e));const o=new Dr(f);return o.supplier=e,o};function p(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{sources:b}=this;for(const r of b){if(i.aborted)return;if(!(r instanceof Dr)){t(new Error("Completable.amb: One of the sources is a non-Completable.")),s.abort();break}r.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){o(),s.abort()},onError(r){t(r),s.abort()}})}}var C=r=>{if(!s(r))return E(new Error("Completable.amb: sources is not Iterable."));const e=new Dr(p);return e.sources=r,e};function v(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const b=()=>{i.aborted||(o(),s.abort())},c=r=>{i.aborted||(t(r),s.abort())},{source:a,other:u}=this;a.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete:b,onError:c}),u.subscribeWith({onSubscribe(r){i.aborted?r.abort():i.addEventListener("abort",()=>r.abort())},onComplete:b,onError:c})}var w=(r,e)=>{if(!(e instanceof Dr))return r;const o=new Dr(v);return o.source=r,o.other=e,o};function S(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{source:b,other:c}=this;b.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){c.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){o(),s.abort()},onError(r){t(r),s.abort()}})},onError(r){t(r),s.abort()}})}var W=(r,e)=>{if(!(e instanceof Dr))return r;const o=new Dr(S);return o.source=r,o.other=e,o};function g(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),{source:s,cached:i,observers:b,subscribed:c}=this;if(i){const e=new r;n(e);const{error:s}=this;null!=s?t(s):o(),e.abort()}else{const o=b.length;b[o]=e;const t=new r;t.signal.addEventListener("abort",()=>{b.splice(o,1)}),n(t),c||(s.subscribeWith({onSubscribe(){},onComplete:()=>{this.cached=!0;for(const r of b)r.onComplete();this.observers=void 0},onError:r=>{this.cached=!0,this.error=r;for(const e of b)e.onError(r);this.observers=void 0}}),this.subscribed=!0)}}var L=r=>{const e=new Dr(g);return e.source=r,e.cached=!1,e.subscribed=!1,e.observers=[],e};function y(r){m(r)}let T;var O=()=>(void 0===T&&((T=new Dr(y)).subscribeActual=y.bind(T)),T),P=(r,e)=>{if(!o(e))return r;let t;try{if(!((t=e(r))instanceof Dr))throw new Error("Completable.compose: transformer returned a non-Completable.")}catch(r){t=E(r)}return t};function A(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{sources:b}=this,c=[];for(const r of b){if(i.aborted)return;if(!(r instanceof Dr)){t(new Error("Completable.amb: One of the sources is a non-Completable.")),s.abort();break}c.unshift(r)}if(i.aborted)return;let a;for(const r of c)if(void 0===a)a=(()=>{r.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){o(),s.abort()},onError(r){t(r),s.abort()}})});else{const e=a;a=(()=>{r.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){e()},onError(r){t(r),s.abort()}})})}a()}var k=r=>{if(!s(r))return E(new Error("Completable.concat: sources is not Iterable."));const e=new Dr(A);return e.sources=r,e};function x(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r;s.onComplete=c.bind(this),s.onError=a.bind(this),this.controller=s,this.onComplete=o,this.onError=t,n(s);try{this.subscriber(s)}catch(r){s.onError(r)}}var I=r=>{if(!o(r))return E(new Error("Completable.create: There are no subscribers."));const e=new Dr(x);return e.subscriber=r,e.subscribeActual=x.bind(e),e};function R(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r);let n,s;try{if(!((n=this.supplier())instanceof Dr))throw new Error("Completable.defer: supplier returned a non-Completable.")}catch(r){s=r}null!=s?d(r,s):n.subscribeWith({onSubscribe:t,onComplete:e,onError:o})}var U=r=>{const e=new Dr(R);return e.supplier=r,e};function D(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),{amount:s,doDelayError:i}=this;let b;const c=new r,{signal:a}=c;n(c),a.aborted||(a.addEventListener("abort",()=>{void 0!==b&&clearTimeout(b)}),this.source.subscribeWith({onSubscribe(r){a.addEventListener("abort",()=>{r.abort()})},onComplete(){b=setTimeout(()=>{o(),c.abort()},s)},onError(r){b=setTimeout(()=>{t(r),c.abort()},i?s:0)}}))}var N=(r,e,o)=>{if(!t(e))return r;const n=new Dr(D);return n.source=r,n.amount=e,n.doDelayError=o,n};function j(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),{amount:s}=this;let i;const b=new r,{signal:c}=b;c.addEventListener("abort",()=>{void 0!==i&&clearTimeout(i)}),n(b),c.aborted||(i=setTimeout(()=>{this.source.subscribeWith({onSubscribe(r){c.addEventListener("abort",()=>r.abort())},onComplete(){o(),b.abort()},onError(r){t(r),b.abort()}})},s))}var F=(r,e)=>{if(!t(e))return r;const o=new Dr(j);return o.source=r,o.amount=e,o};function q(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete(){e(),s()},onError(r){o(r),s()}})}var z=(r,e)=>{if(!o(e))return r;const t=new Dr(q);return t.source=r,t.callable=e,t};function B(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r),{source:n,callable:s}=this;let i=!1;n.subscribeWith({onSubscribe(r){r.signal.addEventListener("abort",()=>{i||(s(),i=!0)}),t(r)},onComplete(){e(),i||(s(),i=!0)},onError(r){o(r),i||(s(),i=!0)}})}var G=(r,e)=>{if(!o(e))return r;const t=new Dr(B);return t.source=r,t.callable=e,t};function H(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe(r){r.signal.addEventListener("abort",s),t(r)},onComplete:e,onError:o})}var J=(r,e)=>{if(!o(e))return r;const t=new Dr(H);return t.source=r,t.callable=e,t};function K(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete(){s(),e()},onError:o})}var M=(r,e)=>{if(!o(e))return r;const t=new Dr(K);return t.source=r,t.callable=e,t};function Q(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete:e,onError(r){s(r),o(r)}})}var V=(r,e)=>{if(!o(e))return r;const t=new Dr(Q);return t.source=r,t.callable=e,t};function X(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete(){s(),e()},onError(r){s(void 0,r),o(r)}})}var Y=(r,e)=>{if(!o(e))return r;const t=new Dr(X);return t.source=r,t.callable=e,t};function Z(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe(r){s(r),t(r)},onComplete:e,onError:o})}var $=(r,e)=>{if(!o(e))return r;const t=new Dr(Z);return t.source=r,t.callable=e,t};function _(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete(r){s(),e(r)},onError(r){s(),o(r)}})}var rr=(r,e)=>{if(!o(e))return r;const t=new Dr(_);return t.source=r,t.callable=e,t};function er(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r;n(s),s.signal.aborted||(this.controller=s,this.onComplete=o,this.onError=t,this.promise.then(c.bind(this),a.bind(this)))}var or=r=>{if(!b(r))return E(new Error("Completable.fromPromise: expects a Promise-like value."));const e=new Dr(er);return e.promise=r,e};function tr(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r;if(n(s),s.signal.aborted)return;this.controller=s,this.onComplete=o,this.onError=t;const i=c.bind(this),u=a.bind(this);let l;try{l=this.callable()}catch(r){return void u(r)}b(l)?or(l).subscribeWith({onSubscribe(r){s.signal.addEventListener("abort",()=>r.abort())},onComplete:i,onError:u}):i()}var nr=r=>{if(!o(r))return E(new Error("Completable.fromCallable: callable received is not a function."));const e=new Dr(tr);return e.callable=r,e};function sr(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r;if(n(s),s.signal.aborted)return;this.controller=s,this.onComplete=o,this.onError=t;const i=c.bind(this),b=a.bind(this);this.subscriber(i,b)}var ir=r=>{if(!o(r))return E(new Error("Completable.fromResolvable: expects a function."));const e=new Dr(sr);return e.subscriber=r,e};function br(r){let e;try{if(e=this.operator(r),!i(e))throw new Error("Completable.lift: operator returned a non-Observer.")}catch(e){return void d(r,e)}this.source.subscribeWith(e)}var cr=(r,e)=>{if(!o(e))return r;const t=new Dr(br);return t.source=r,t.operator=e,t};function ar(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{sources:b}=this,c=[];for(const r of b){if(i.aborted)return;if(!(r instanceof Dr)){t(new Error("Completable.amb: One of the sources is a non-Completable.")),s.abort();break}c.unshift(r)}if(i.aborted)return;let a=c.length;for(const r of c)r.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){0===(a-=1)&&(o(),s.abort())},onError(r){t(r),s.abort()}});(void 0)()}var ur=r=>{if(!s(r))return E(new Error("Completable.concat: sources is not Iterable."));const e=new Dr(ar);return e.sources=r,e};function lr(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{source:b,other:c}=this;let a=!1,u=!1;b.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){a=!0,u&&(o(),s.abort())},onError(r){t(r),s.abort()}}),c.subscribeWith({onSubscribe(r){i.aborted?r.abort():i.addEventListener("abort",()=>r.abort())},onComplete(){u=!0,a&&(o(),s.abort())},onError(r){t(r),s.abort()}})}var hr=(r,e)=>{if(!(e instanceof Dr))return r;const o=new Dr(lr);return o.source=r,o.other=e,o};const mr={signal:{aborted:!1,addEventListener:()=>{},removeEventListener:()=>{},onabort:()=>{}},abort:()=>{}};function dr(r){r.onSubscribe(mr)}let fr;var Er=()=>(void 0===fr&&((fr=new Dr(dr)).subscribeActual=dr.bind(fr)),fr);function pr(r){const{onComplete:e,onError:o,onSubscribe:t}=h(r),{source:n,item:s}=this;n.subscribeWith({onSubscribe:t,onComplete:e,onError(r){let t;try{t=s(r)}catch(e){return void o([r,e])}t?e():o(r)}})}var Cr=(r,e)=>{if(!o(e))return r;const t=new Dr(pr);return t.source=r,t.item=e,t};function vr(e){const{onComplete:t,onError:n,onSubscribe:s}=h(e),{source:i,resumeIfError:b}=this,c=new r,{signal:a}=c;s(c),a.aborted||i.subscribeWith({onSubscribe(r){a.addEventListener("abort",()=>r.abort())},onComplete(){t(),c.abort()},onError(r){let e;if(o(b))try{if(!((e=b(r))instanceof Dr))throw new Error("Completable.onErrorResumeNext: returned an non-Completable.")}catch(e){return void n(new Error([r,e]))}else e=b;e.subscribeWith({onSubscribe(r){a.addEventListener("abort",()=>r.abort())},onComplete(){t(),c.abort()},onError(r){n(r),c.abort()}})}})}var wr=(r,e)=>{if(!(o(e)||e instanceof Dr))return r;const t=new Dr(vr);return t.source=r,t.resumeIfError=e,t};function Sr(e){const{onSubscribe:o,onComplete:n,onError:s}=h(e),i=new r,{signal:b}=i;if(o(i),b.aborted)return;const{source:c,times:a}=this;let u=0;const l=()=>{b.aborted||(u+=1,c.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onComplete(){t(a)?u<=a?l():n():l()},onError(r){s(r),i.abort()}}))};l()}var Wr=(r,e)=>{if(null!=e){if(!t(e))return r;if(e<=0)return r}const o=new Dr(Sr);return o.source=r,o.times=e,o};function gr(e){const{onSubscribe:t,onComplete:n,onError:s}=h(e),i=new r,{signal:b}=i;if(t(i),b.aborted)return;const{source:c,predicate:a}=this,u=()=>{b.aborted||c.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onComplete(){if(o(a)){a()?n():u()}else u()},onError(r){s(r),i.abort()}})};u()}var Lr=(r,e)=>{const o=new Dr(gr);return o.source=r,o.predicate=e,o};function yr(e){const{onSubscribe:t,onComplete:n,onError:s}=h(e),i=new r,{signal:b}=i;if(t(i),b.aborted)return;const{source:c,bipredicate:a}=this;let u=0;const l=()=>{b.aborted||(u+=1,c.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onComplete(){n(),i.abort()},onError(r){if(o(a)){a(u,r)?l():(s(r),i.abort())}else l()}}))};l()}var Tr=(r,e)=>{const o=new Dr(yr);return o.source=r,o.bipredicate=e,o};function Or(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{source:b,other:c}=this;c.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){b.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){o(),s.abort()},onError(r){t(r),s.abort()}})},onError(r){t(r),s.abort()}})}var Pr=(r,e)=>{if(!(e instanceof Dr))return r;const o=new Dr(Or);return o.source=r,o.other=e,o};function Ar(e){const{onSubscribe:o,onComplete:t,onError:n}=h(e),s=new r,{signal:i}=s;if(o(s),i.aborted)return;const{source:b,other:c}=this;c.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){n(new Error("Completable.takeUntil: Source cancelled by other Completable.")),s.abort()},onError(r){n(new Error(["Completable.takeUntil: Source cancelled by other Completable.",r])),s.abort()}}),b.subscribeWith({onSubscribe(r){i.aborted?r.abort():i.addEventListener("abort",()=>r.abort())},onComplete(){t(),s.abort()},onError(r){n(r),s.abort()}})}const kr=(r,e)=>{if(!(e instanceof Dr))return r;const o=new Dr(Ar);return o.source=r,o.other=e,o};function xr(e){const{onComplete:o,onError:t,onSubscribe:n}=h(e),{amount:s}=this,i=new r,{signal:b}=i;if(n(i),b.aborted)return;const c=setTimeout(()=>{t(new Error("Completable.timeout: TimeoutException (no complete signals within the specified timeout).")),i.abort()},s);b.addEventListener("abort",()=>{clearTimeout(c)}),this.source.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onComplete(){o(),i.abort()},onError(r){t(r),i.abort()}})}var Ir=(r,e)=>{if(!t(e))return r;const o=new Dr(xr);return o.source=r,o.amount=e,o};function Rr(e){const{onComplete:o,onSubscribe:t}=h(e),n=new r,{signal:s}=n;if(t(n),s.aborted)return;const i=setTimeout(o,this.amount);s.addEventListener("abort",()=>{clearTimeout(i)})}var Ur=r=>{if(!t(r))return E(new Error('Completable.timer: "amount" is not a number.'));const e=new Dr(Rr);return e.amount=r,e};class Dr{constructor(r){this.subscribeActual=r}static amb(r){return C(r)}ambWith(r){return w(this,r)}andThen(r){return W(this,r)}cache(){return L(this)}static complete(){return O()}compose(r){return P(this,r)}static concat(r){return k(r)}concatWith(r){return W(this,r)}static create(r){return I(r)}static defer(r){return U(r)}delay(r,e){return N(this,r,e)}delaySubscription(r){return F(this,r)}doAfterTerminate(r){return z(this,r)}doFinally(r){return G(this,r)}doOnAbort(r){return J(this,r)}doOnComplete(r){return M(this,r)}doOnError(r){return V(this,r)}doOnEvent(r){return Y(this,r)}doOnSubscribe(r){return $(this,r)}doOnTerminate(r){return rr(this,r)}static error(r){return E(r)}static fromCallable(r){return nr(r)}static fromPromise(r){return or(r)}static fromResolvable(r){return ir(r)}lift(r){return cr(this,r)}static merge(r){return ur(r)}mergeWith(r){return hr(this,r)}static never(){return Er()}onErrorComplete(r){return Cr(this,r)}onErrorResumeNext(r){return wr(this,r)}repeat(r){return Wr(this,r)}retry(r){return Tr(this,r)}repeatUntil(r){return Lr(this,r)}startWith(r){return Pr(this,r)}takeUntil(r){return kr(this,r)}timeout(r){return Ir(this,r)}static timer(r){return Ur(r)}subscribeWith(r){i(r)&&this.subscribeActual.call(this,r)}subscribe(e,o){const t=new r;let n=!1;return this.subscribeWith({onSubscribe(r){r.signal.addEventListener("abort",()=>{n||(n=!0,t.signal.aborted||t.abort())}),t.signal.addEventListener("abort",()=>{n||(n=!0,r.signal.aborted||r.abort())})},onComplete:e,onError:o}),t}toPromise(){return new Promise((r,e)=>{this.subscribe(r,e)})}then(r,e){return this.toPromise().then(r,e)}catch(r){return this.toPromise().catch(r)}}return Dr}(AbortController);