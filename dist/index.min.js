var Completable=function(r){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;const e=r=>"object"==typeof r&&"function"==typeof r[Symbol.iterator],o=r=>"object"==typeof r&&"function"==typeof r.onSubscribe,t=r=>r instanceof Promise||!!r&&("object"==typeof r||"function"==typeof r)&&"function"==typeof r.then;function n(){const{onComplete:r,controller:e}=this;if(!e.signal.aborted)try{r()}finally{e.abort()}}function s(r){const{onError:e,controller:o}=this;let t=r;if(r instanceof Error||(t=new Error("onError called with a non-Error value.")),!o.signal.aborted)try{e(t)}finally{o.abort()}}const i=r=>r,b=r=>{throw r},c=r=>({onSubscribe:r.onSubscribe,onComplete:"function"==typeof r.onComplete?r.onComplete:i,onError:"function"==typeof r.onError?r.onError:b}),a=e=>{const{onSubscribe:o,onComplete:t}=c(e),n=new r;o(n),n.signal.aborted||(t(),n.abort())},u=(e,o)=>{const{onSubscribe:t,onError:n}=c(e),s=new r;t(s),s.signal.aborted||(n(o),s.abort())};function l(r){let e;try{if(null==(e=this.supplier()))throw new Error("Completable.error: Error supplier returned a null value.")}catch(r){e=r}u(r,e)}var f=r=>{let e=r;r instanceof Error||(e=new Error("Completable.error received a non-Error value.")),"function"!=typeof r&&(e=(r=>()=>r)(e));const o=new xr(l);return o.supplier=e,o};function h(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{sources:b}=this;for(const r of b){if(i.aborted)return;if(!(r instanceof xr)){t(new Error("Completable.amb: One of the sources is a non-Completable.")),s.abort();break}r.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){o(),s.abort()},onError(r){t(r),s.abort()}})}}var m=r=>{if(!e(r))return f(new Error("Completable.amb: sources is not Iterable."));const o=new xr(h);return o.sources=r,o};function p(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const b=()=>{i.aborted||(o(),s.abort())},a=r=>{i.aborted||(t(r),s.abort())},{source:u,other:l}=this;u.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete:b,onError:a}),l.subscribeWith({onSubscribe(r){i.aborted?r.abort():i.addEventListener("abort",()=>r.abort())},onComplete:b,onError:a})}var d=(r,e)=>{if(!(e instanceof xr))return r;const o=new xr(p);return o.source=r,o.other=e,o};function E(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{source:b,other:a}=this;b.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){a.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){o(),s.abort()},onError(r){t(r),s.abort()}})},onError(r){t(r),s.abort()}})}var C=(r,e)=>{if(!(e instanceof xr))return r;const o=new xr(E);return o.source=r,o.other=e,o};function v(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),{source:s,cached:i,observers:b,subscribed:a}=this;if(i){const e=new r;n(e);const{error:s}=this;null!=s?t(s):o(),e.abort()}else{const o=b.length;b[o]=e;const t=new r;t.signal.addEventListener("abort",()=>{b.splice(o,1)}),n(t),a||(s.subscribeWith({onSubscribe(){},onComplete:()=>{this.cached=!0;for(const r of b)r.onComplete();this.observers=void 0},onError:r=>{this.cached=!0,this.error=r;for(const e of b)e.onError(r);this.observers=void 0}}),this.subscribed=!0)}}var w=r=>{const e=new xr(v);return e.source=r,e.cached=!1,e.subscribed=!1,e.observers=[],e};function S(r){a(r)}let y;var W=()=>(void 0===y&&((y=new xr(S)).subscribeActual=S.bind(y)),y),g=(r,e)=>{if("function"!=typeof e)return r;let o;try{if(!((o=e(r))instanceof xr))throw new Error("Completable.compose: transformer returned a non-Completable.")}catch(r){o=f(r)}return o};function L(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{sources:b}=this,a=[];for(const r of b){if(i.aborted)return;if(!(r instanceof xr)){t(new Error("Completable.amb: One of the sources is a non-Completable.")),s.abort();break}a.unshift(r)}if(i.aborted)return;let u;for(const r of a)if(void 0===u)u=(()=>{r.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){o(),s.abort()},onError(r){t(r),s.abort()}})});else{const e=u;u=(()=>{r.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){e()},onError(r){t(r),s.abort()}})})}u()}var T=r=>{if(!e(r))return f(new Error("Completable.concat: sources is not Iterable."));const o=new xr(L);return o.sources=r,o};function O(e){const{onComplete:o,onError:t,onSubscribe:i}=c(e),b=new r;b.onComplete=n.bind(this),b.onError=s.bind(this),this.controller=b,this.onComplete=o,this.onError=t,i(b);try{this.subscriber(b)}catch(r){b.onError(r)}}var P=r=>{if("function"!=typeof r)return f(new Error("Completable.create: There are no subscribers."));const e=new xr(O);return e.subscriber=r,e.subscribeActual=O.bind(e),e};function A(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r);let n,s;try{if(!((n=this.supplier())instanceof xr))throw new Error("Completable.defer: supplier returned a non-Completable.")}catch(r){s=r}null!=s?u(r,s):n.subscribeWith({onSubscribe:t,onComplete:e,onError:o})}var k=r=>{const e=new xr(A);return e.supplier=r,e};function x(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),{amount:s,doDelayError:i}=this;let b;const a=new r,{signal:u}=a;n(a),u.aborted||(u.addEventListener("abort",()=>{void 0!==b&&clearTimeout(b)}),this.source.subscribeWith({onSubscribe(r){u.addEventListener("abort",()=>{r.abort()})},onComplete(){b=setTimeout(()=>{o(),a.abort()},s)},onError(r){b=setTimeout(()=>{t(r),a.abort()},i?s:0)}}))}var I=(r,e,o)=>{if("number"!=typeof e)return r;const t=new xr(x);return t.source=r,t.amount=e,t.doDelayError=o,t};function R(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),{amount:s}=this;let i;const b=new r,{signal:a}=b;a.addEventListener("abort",()=>{void 0!==i&&clearTimeout(i)}),n(b),a.aborted||(i=setTimeout(()=>{this.source.subscribeWith({onSubscribe(r){a.addEventListener("abort",()=>r.abort())},onComplete(){o(),b.abort()},onError(r){t(r),b.abort()}})},s))}var U=(r,e)=>{if("number"!=typeof e)return r;const o=new xr(R);return o.source=r,o.amount=e,o};function j(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete(){e(),s()},onError(r){o(r),s()}})}var D=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(j);return o.source=r,o.callable=e,o};function N(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r),{source:n,callable:s}=this;let i=!1;n.subscribeWith({onSubscribe(r){r.signal.addEventListener("abort",()=>{i||(s(),i=!0)}),t(r)},onComplete(){e(),i||(s(),i=!0)},onError(r){o(r),i||(s(),i=!0)}})}var F=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(N);return o.source=r,o.callable=e,o};function q(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe(r){r.signal.addEventListener("abort",s),t(r)},onComplete:e,onError:o})}var z=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(q);return o.source=r,o.callable=e,o};function B(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete(){s(),e()},onError:o})}var G=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(B);return o.source=r,o.callable=e,o};function H(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete:e,onError(r){s(r),o(r)}})}var J=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(H);return o.source=r,o.callable=e,o};function K(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete(){s(),e()},onError(r){s(void 0,r),o(r)}})}var M=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(K);return o.source=r,o.callable=e,o};function Q(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe(r){s(r),t(r)},onComplete:e,onError:o})}var V=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(Q);return o.source=r,o.callable=e,o};function X(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r),{source:n,callable:s}=this;n.subscribeWith({onSubscribe:t,onComplete(r){s(),e(r)},onError(r){s(),o(r)}})}var Y=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(X);return o.source=r,o.callable=e,o};function Z(e){const{onComplete:o,onError:t,onSubscribe:i}=c(e),b=new r;i(b),b.signal.aborted||(this.controller=b,this.onComplete=o,this.onError=t,this.promise.then(n.bind(this),s.bind(this)))}var $=r=>{if(!t(r))return f(new Error("Completable.fromPromise: expects a Promise-like value."));const e=new xr(Z);return e.promise=r,e};function _(e){const{onComplete:o,onError:i,onSubscribe:b}=c(e),a=new r;if(b(a),a.signal.aborted)return;this.controller=a,this.onComplete=o,this.onError=i;const u=n.bind(this),l=s.bind(this);let f;try{f=this.callable()}catch(r){return void l(r)}t(f)?$(f).subscribe(o,i):u(f)}var rr=r=>{if("function"!=typeof r)return f(new Error("Completable.fromCallable: callable received is not a function."));const e=new xr(_);return e.callable=r,e};function er(e){const{onComplete:o,onError:t,onSubscribe:i}=c(e),b=new r;if(i(b),b.signal.aborted)return;this.controller=b,this.onComplete=o,this.onError=t;const a=n.bind(this),u=s.bind(this);this.subscriber(a,u)}var or=r=>{if("function"!=typeof r)return f(new Error("Completable.fromResolvable: expects a function."));const e=new xr(er);return e.subscriber=r,e};function tr(r){let e;try{if(e=this.operator(r),!o(e))throw new Error("Completable.lift: operator returned a non-Observer.")}catch(e){return void u(r,e)}this.source.subscribeWith(e)}var nr=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(tr);return o.source=r,o.operator=e,o};function sr(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{sources:b}=this,a=[];for(const r of b){if(i.aborted)return;if(!(r instanceof xr)){t(new Error("Completable.amb: One of the sources is a non-Completable.")),s.abort();break}a.unshift(r)}if(i.aborted)return;let u=a.length;for(const r of a)r.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){0===(u-=1)&&(o(),s.abort())},onError(r){t(r),s.abort()}});(void 0)()}var ir=r=>{if(!e(r))return f(new Error("Completable.concat: sources is not Iterable."));const o=new xr(sr);return o.sources=r,o};function br(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{source:b,other:a}=this;let u=!1,l=!1;b.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){u=!0,l&&(o(),s.abort())},onError(r){t(r),s.abort()}}),a.subscribeWith({onSubscribe(r){i.aborted?r.abort():i.addEventListener("abort",()=>r.abort())},onComplete(){l=!0,u&&(o(),s.abort())},onError(r){t(r),s.abort()}})}var cr=(r,e)=>{if(!(e instanceof xr))return r;const o=new xr(br);return o.source=r,o.other=e,o};const ar={signal:{aborted:!1,addEventListener:()=>{},removeEventListener:()=>{},onabort:()=>{}},abort:()=>{}};function ur(r){r.onSubscribe(ar)}let lr;var fr=()=>(void 0===lr&&((lr=new xr(ur)).subscribeActual=ur.bind(lr)),lr);function hr(r){const{onComplete:e,onError:o,onSubscribe:t}=c(r),{source:n,item:s}=this;n.subscribeWith({onSubscribe:t,onComplete:e,onError(r){let t;try{t=s(r)}catch(e){return void o([r,e])}t?e():o(r)}})}var mr=(r,e)=>{if("function"!=typeof e)return r;const o=new xr(hr);return o.source=r,o.item=e,o};function pr(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),{source:s,resumeIfError:i}=this,b=new r,{signal:a}=b;n(b),a.aborted||s.subscribeWith({onSubscribe(r){a.addEventListener("abort",()=>r.abort())},onComplete(){o(),b.abort()},onError(r){let e;if("function"==typeof i)try{if(!((e=i(r))instanceof xr))throw new Error("Completable.onErrorResumeNext: returned an non-Completable.")}catch(e){return void t(new Error([r,e]))}else e=i;e.subscribeWith({onSubscribe(r){a.addEventListener("abort",()=>r.abort())},onComplete(){o(),b.abort()},onError(r){t(r),b.abort()}})}})}var dr=(r,e)=>{if(!("function"==typeof e||e instanceof xr))return r;const o=new xr(pr);return o.source=r,o.resumeIfError=e,o};function Er(e){const{onSubscribe:o,onComplete:t,onError:n}=c(e),s=new r,{signal:i}=s;if(o(s),i.aborted)return;const{source:b,times:a}=this;let u=0;const l=()=>{i.aborted||(u+=1,b.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){"number"==typeof a?u<=a?l():t():l()},onError(r){n(r),s.abort()}}))};l()}var Cr=(r,e)=>{if(null!=e){if("number"!=typeof e)return r;if(e<=0)return r}const o=new xr(Er);return o.source=r,o.times=e,o};function vr(e){const{onSubscribe:o,onComplete:t,onError:n}=c(e),s=new r,{signal:i}=s;if(o(s),i.aborted)return;const{source:b,predicate:a}=this,u=()=>{i.aborted||b.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){if("function"==typeof a){a()?t():u()}else u()},onError(r){n(r),s.abort()}})};u()}var wr=(r,e)=>{const o=new xr(vr);return o.source=r,o.predicate=e,o};function Sr(e){const{onSubscribe:o,onComplete:t,onError:n}=c(e),s=new r,{signal:i}=s;if(o(s),i.aborted)return;const{source:b,bipredicate:a}=this;let u=0;const l=()=>{i.aborted||(u+=1,b.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){t(),s.abort()},onError(r){if("function"==typeof a){a(u,r)?l():(n(r),s.abort())}else l()}}))};l()}var yr=(r,e)=>{const o=new xr(Sr);return o.source=r,o.bipredicate=e,o};function Wr(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),s=new r,{signal:i}=s;if(n(s),i.aborted)return;const{source:b,other:a}=this;a.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){b.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){o(),s.abort()},onError(r){t(r),s.abort()}})},onError(r){t(r),s.abort()}})}var gr=(r,e)=>{if(!(e instanceof xr))return r;const o=new xr(Wr);return o.source=r,o.other=e,o};function Lr(e){const{onSubscribe:o,onComplete:t,onError:n}=c(e),s=new r,{signal:i}=s;if(o(s),i.aborted)return;const{source:b,other:a}=this;a.subscribeWith({onSubscribe(r){i.addEventListener("abort",()=>r.abort())},onComplete(){n(new Error("Completable.takeUntil: Source cancelled by other Completable.")),s.abort()},onError(r){n(new Error(["Completable.takeUntil: Source cancelled by other Completable.",r])),s.abort()}}),b.subscribeWith({onSubscribe(r){i.aborted?r.abort():i.addEventListener("abort",()=>r.abort())},onComplete(){t(),s.abort()},onError(r){n(r),s.abort()}})}const Tr=(r,e)=>{if(!(e instanceof xr))return r;const o=new xr(Lr);return o.source=r,o.other=e,o};function Or(e){const{onComplete:o,onError:t,onSubscribe:n}=c(e),{amount:s}=this,i=new r,{signal:b}=i;if(n(i),b.aborted)return;const a=setTimeout(()=>{t(new Error("Completable.timeout: TimeoutException (no complete signals within the specified timeout).")),i.abort()},s);b.addEventListener("abort",()=>{clearTimeout(a)}),this.source.subscribeWith({onSubscribe(r){b.addEventListener("abort",()=>r.abort())},onComplete(){o(),i.abort()},onError(r){t(r),i.abort()}})}var Pr=(r,e)=>{if("number"!=typeof e)return r;const o=new xr(Or);return o.source=r,o.amount=e,o};function Ar(e){const{onComplete:o,onSubscribe:t}=c(e),n=new r,{signal:s}=n;if(t(n),s.aborted)return;const i=setTimeout(o,this.amount);s.addEventListener("abort",()=>{clearTimeout(i)})}var kr=r=>{if("number"!=typeof r)return f(new Error('Completable.timer: "amount" is not a number.'));const e=new xr(Ar);return e.amount=r,e};class xr{constructor(r){this.subscribeActual=r}static amb(r){return m(r)}ambWith(r){return d(this,r)}andThen(r){return C(this,r)}cache(){return w(this)}static complete(){return W()}compose(r){return g(this,r)}static concat(r){return T(r)}concatWith(r){return C(this,r)}static create(r){return P(r)}static defer(r){return k(r)}delay(r,e){return I(this,r,e)}delaySubscription(r){return U(this,r)}doAfterTerminate(r){return D(this,r)}doFinally(r){return F(this,r)}doOnAbort(r){return z(this,r)}doOnComplete(r){return G(this,r)}doOnError(r){return J(this,r)}doOnEvent(r){return M(this,r)}doOnSubscribe(r){return V(this,r)}doOnTerminate(r){return Y(this,r)}static error(r){return f(r)}static fromCallable(r){return rr(r)}static fromPromise(r){return $(r)}static fromResolvable(r){return or(r)}lift(r){return nr(this,r)}static merge(r){return ir(r)}mergeWith(r){return cr(this,r)}static never(){return fr()}onErrorComplete(r){return mr(this,r)}onErrorResumeNext(r){return dr(this,r)}repeat(r){return Cr(this,r)}retry(r){return yr(this,r)}repeatUntil(r){return wr(this,r)}startWith(r){return gr(this,r)}takeUntil(r){return Tr(this,r)}timeout(r){return Pr(this,r)}static timer(r){return kr(r)}subscribeWith(r){o(r)&&this.subscribeActual.call(this,r)}subscribe(e,o){const t=new r;let n=!1;return this.subscribeWith({onSubscribe(r){r.signal.addEventListener("abort",()=>{n||(n=!0,t.signal.aborted||t.abort())}),t.signal.addEventListener("abort",()=>{n||(n=!0,r.signal.aborted||r.abort())})},onComplete:e,onError:o}),t}toPromise(){return new Promise((r,e)=>{this.subscribe(r,e)})}then(r,e){return this.toPromise().then(r,e)}catch(r){return this.toPromise().catch(r)}}return xr}(AbortController);